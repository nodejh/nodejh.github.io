<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Database on nodejh</title>
    <link>http://nodejh.com/categories/database/</link>
    <description>Recent content in Database on nodejh</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 20 Feb 2017 20:26:33 +0800</lastBuildDate>
    <atom:link href="http://nodejh.com/categories/database/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to Create Auto Increment Column in Oracle</title>
      <link>http://nodejh.com/post/How-to-Create-Auto-Increment-Column-in-Oracle/</link>
      <pubDate>Mon, 20 Feb 2017 20:26:33 +0800</pubDate>
      
      <guid>http://nodejh.com/post/How-to-Create-Auto-Increment-Column-in-Oracle/</guid>
      <description>

&lt;p&gt;å¦‚æœä½ ç»å¸¸ä½¿ç”¨ MySQLï¼Œä½ è‚¯å®šå¯¹ &lt;code&gt;AUTO_INCREMENT&lt;/code&gt; éå¸¸ç†Ÿæ‚‰ï¼Œå› ä¸ºç»å¸¸è¦ç”¨åˆ°å®ƒã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸€-ä»€ä¹ˆæ˜¯è‡ªå¢åˆ—&#34;&gt;ä¸€ã€ä»€ä¹ˆæ˜¯è‡ªå¢åˆ— ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;è‡ªå¢åˆ—æ˜¯æ•°æ®åº“ä¸­å€¼éšæ’å…¥çš„æ¯ä¸ªè¡Œè‡ªåŠ¨å¢åŠ çš„ä¸€åˆ—ã€‚å®ƒæœ€å¸¸ç”¨äºä¸»é”®æˆ– ID å­—æ®µï¼Œè¿™æ ·æ¯æ¬¡å¢åŠ ä¸€è¡Œæ—¶ï¼Œä¸ç”¨æŒ‡è¯¥å­—æ®µçš„å€¼ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨å¢åŠ ï¼Œè€Œä¸”æ˜¯å”¯ä¸€çš„ã€‚&lt;/p&gt;

&lt;p&gt;å½“åœ¨ MySQL ä¸­å®šä¹‰åˆ—æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸€ä¸ªåä¸º &lt;code&gt;AUTO_INCREMENT&lt;/code&gt; çš„å‚æ•°ã€‚ç„¶åï¼Œæ¯å½“å°†æ–°å€¼æ’å…¥æ­¤è¡¨ä¸­æ—¶ï¼Œæ”¾å…¥æ­¤åˆ—çš„å€¼æ¯”æœ€åä¸€ä¸ªå€¼åŠ  &lt;code&gt;1&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä½†å¾ˆä¸å¹¸ï¼ŒOracle æ²¡æœ‰ &lt;code&gt;AUTO_INCREMENT&lt;/code&gt; åŠŸèƒ½ã€‚ é‚£è¦å¦‚ä½•åœ¨Oracleä¸­åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&#34;äºŒ-åœ¨-oracle-11g-ä¸­è®¾ç½®è‡ªå¢å­—æ®µ&#34;&gt;äºŒã€åœ¨  Oracle 11g ä¸­è®¾ç½®è‡ªå¢å­—æ®µ&lt;/h2&gt;

&lt;h3 id=&#34;1-åˆ›å»ºè¡¨&#34;&gt;1. åˆ›å»ºè¡¨&lt;/h3&gt;

&lt;p&gt;é¦–å…ˆåˆ›å»ºä¸€å¼ ç”¨äºæµ‹è¯•çš„è¡¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CREATE TABLE &amp;quot;TEST&amp;quot; (
    ID NUMBER(11) PRIMARY KEY,
    NAME VARCHAR2(50BYTE) NOT NULL
);
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;2-åˆ›å»ºåºåˆ—&#34;&gt;2. åˆ›å»ºåºåˆ—&lt;/h3&gt;

&lt;p&gt;ç„¶ååˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;TEST_ID_SEQ&lt;/code&gt; çš„åºåˆ—ï¼ˆåºåˆ—åç§°è‡ªå·±éšæ„è®¾å®šï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CREATE SEQUENCE TEST_ID_SEQ
INCREMENT BY 1
START WITH 100
MAXVALUE 999999999
NOCYCLE
NOCACHE;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœè¦åˆ é™¤åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ SQL å‘½ä»¤ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DROP SEQUENCE TEST_ID_SEQ;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯¹ &lt;code&gt;SEQUENCE&lt;/code&gt; çš„ä¸€äº›è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INCREMENT BY&lt;/code&gt; ç”¨äºæŒ‡å®šåºåˆ—å¢é‡ï¼ˆé»˜è®¤å€¼ï¼š1ï¼‰ï¼Œå¦‚æœæŒ‡å®šçš„æ˜¯æ­£æ•´æ•°ï¼Œåˆ™åºåˆ—å·è‡ªåŠ¨é€’å¢ï¼Œå¦‚æœæŒ‡å®šçš„æ˜¯è´Ÿæ•°ï¼Œåˆ™è‡ªåŠ¨é€’å‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;START WITH&lt;/code&gt; ç”¨äºæŒ‡å®šåºåˆ—ç”Ÿæˆå™¨ç”Ÿæˆçš„ç¬¬ä¸€ä¸ªåºåˆ—å·ï¼Œå½“åºåˆ—å·é¡ºåºé€’å¢æ—¶é»˜è®¤å€¼ä¸ºåºåˆ—å·çš„æœ€å°å€¼ï¼Œå½“åºåˆ—å·é¡ºåºé€’å‡æ—¶é»˜è®¤å€¼ä¸ºåºåˆ—å·çš„æœ€å¤§å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MAXVALUE&lt;/code&gt; ç”¨äºæŒ‡å®šåºåˆ—ç”Ÿæˆå™¨å¯ä»¥ç”Ÿæˆçš„ç»„å¤§åºåˆ—å·ï¼ˆå¿…é¡»å¤§äºæˆ–ç­‰äº &lt;code&gt;START WITH&lt;/code&gt;ï¼Œå¹¶ä¸”å¿…é¡»å¤§äº &lt;code&gt;MINVALUE&lt;/code&gt;ï¼‰ï¼Œé»˜è®¤ä¸º &lt;code&gt;NOMAXVALUE&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MINVALUE&lt;/code&gt; ç”¨äºæŒ‡å®šåºåˆ—ç”Ÿæˆå™¨å¯ä»¥ç”Ÿæˆçš„æœ€å°åºåˆ—å·ï¼ˆå¿…é¡»å°äºæˆ–ç­‰äº &lt;code&gt;START WITH&lt;/code&gt;ï¼Œå¹¶ä¸”å¿…é¡»å°äº &lt;code&gt;MAXVALUE&lt;/code&gt;ï¼‰ï¼Œé»˜è®¤å€¼ä¸º &lt;code&gt;NOMINVALUE&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CYCLE&lt;/code&gt; ç”¨äºæŒ‡å®šåœ¨è¾¾åˆ°åºåˆ—çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ä¹‹åæ˜¯å¦ç»§ç»­ç”Ÿæˆåºåˆ—å·ï¼Œé»˜è®¤ä¸º &lt;code&gt;NOCYCLE&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CACHE&lt;/code&gt; ç”¨äºæŒ‡å®šåœ¨å†…å­˜ä¸­å¯ä»¥é¢„åˆ†é…çš„åºåˆ—å·ä¸ªæ•°ï¼ˆé»˜è®¤å€¼ï¼š20ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ°è¿™ä¸€æ­¥å…¶å®å°±å·²ç»å¯ä»¥å®ç°å­—æ®µè‡ªå¢ï¼Œåªè¦æ’å…¥çš„æ—¶å€™ï¼Œå°† ID çš„å€¼è®¾ç½®ä¸ºåºåˆ—çš„ä¸‹ä¸€ä¸ªå€¼ &lt;code&gt;TEST_ID_SEQ.NEXTVAL&lt;/code&gt; å°±å¯ä»¥äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (TEST_ID_SEQ.NEXTVAL, &#39;name1&#39;);
SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (TEST_ID_SEQ.NEXTVAL, &#39;name2&#39;);
SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (TEST_ID_SEQ.NEXTVAL, &#39;name3&#39;);
SQL&amp;gt; SELECT * FROM &amp;quot;TEST&amp;quot;;

ID   NAME
---  ------
100	name1
101	name2
102	name3

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸ºäº†ç®€åŒ–æ’å…¥æ“ä½œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªè§¦å‘å™¨ï¼Œå½“å°†æ•°æ®æ’å…¥åˆ° &amp;ldquo;TEST&amp;rdquo; è¡¨çš„æ—¶å€™ï¼Œè‡ªåŠ¨å°†æœ€æ–°çš„ ID æ’å…¥è¿›å»ã€‚&lt;/p&gt;

&lt;h3 id=&#34;3-åˆ›å»ºè§¦å‘å™¨&#34;&gt;3. åˆ›å»ºè§¦å‘å™¨&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;CREATE OR REPLACE TRIGGER TEST_ID_SEQ_TRG
BEFORE INSERT ON &amp;quot;TEST&amp;quot;
FOR EACH ROW
WHEN (NEW.&amp;quot;ID&amp;quot; IS NULL)
BEGIN
  SELECT TEST_ID_SEQ.NEXTVAL
  INTO :NEW.&amp;quot;ID&amp;quot;
  FROM DUAL;
END;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·çš„è¯ï¼Œæ¯æ¬¡å†™æ’å…¥è¯­å¥ï¼Œåªéœ€è¦å°† &lt;code&gt;ID&lt;/code&gt; å­—æ®µçš„å€¼è®¾ç½®ä¸º &lt;code&gt;NULL&lt;/code&gt; å®ƒå°±ä¼šè‡ªåŠ¨é€’å¢äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (NULL, &#39;name4&#39;);
SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (NULL, &#39;name5&#39;);
SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (NULL, &#39;name6&#39;);
SQL&amp;gt; SELECT * FROM &amp;quot;TEST&amp;quot;;

ID   NAME
---  ------
100	name1
101	name2
102	name3
103	name4
104	name5
105	name6
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;4-ä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹&#34;&gt;4. ä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹&lt;/h3&gt;

&lt;h4 id=&#34;4-1-æ’å…¥æŒ‡å®š-id&#34;&gt;4.1 æ’å…¥æŒ‡å®š ID&lt;/h4&gt;

&lt;p&gt;å¦‚æœæŸæ¡æ’å…¥è¯­å¥æŒ‡å®šäº† &lt;code&gt;ID&lt;/code&gt; çš„å€¼å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (1000, &#39;name1001&#39;);
SQL&amp;gt; SELECT * FROM &amp;quot;TEST&amp;quot;;

ID   NAME
---  ------
100	name1
101	name2
102	name3
103	name4
104	name5
1000	name1001
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‚£ä¹ˆä¸‹æ¬¡ &lt;code&gt;ID&lt;/code&gt; è¿˜æ˜¯ä¼šåœ¨åŸæ¥çš„åŸºç¡€ä¸Šç»§ç»­å¢åŠ ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; INSERT INTO &amp;quot;TEST&amp;quot; (&amp;quot;ID&amp;quot;, &amp;quot;NAME&amp;quot;) VALUES (NULL, &#39;name1001&#39;);
SQL&amp;gt; SELECT * FROM &amp;quot;TEST&amp;quot;;

ID   NAME
---  ------
100	name1
101	name2
102	name3
103	name4
104	name5
1000	name1001
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†å½“åºåˆ—çš„å€¼åˆ°äº† &lt;code&gt;1000&lt;/code&gt; çš„æ—¶å€™ï¼Œå¦‚æœ &lt;code&gt;ID&lt;/code&gt; å…è®¸é‡å¤ï¼Œå°±ä¼šæœ‰ä¸¤è¡Œè®°å½• &lt;code&gt;ID&lt;/code&gt; éƒ½ä¸º &lt;code&gt;1000&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä½†å¦‚æœ &lt;code&gt;ID&lt;/code&gt; è®¾ç½®ä¸ºäº†ä¸»é”®ï¼Œå¦‚æœ¬æ–‡çš„ä¾‹å­ &lt;code&gt;ID NUMBER(11) PRIMARY KEY&lt;/code&gt;ï¼Œåˆ™æ’å…¥å°±ä¼šæŠ¥é”™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error : ORA-00001: unique constraint (SOFTWARE.SYS_C0014995) violated
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-2-å­—æ®µåŠ å¼•å·&#34;&gt;4.2 å­—æ®µåŠ å¼•å·&lt;/h4&gt;

&lt;p&gt;åœ¨ SQL è¯­å¥ä¸­ï¼Œå­—æ®µæœ€å¥½éƒ½åŠ ä¸Šå¼•å·ï¼Œä¸ç„¶å¯èƒ½ä¼šæŠ¥é”™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error : ORA-00900: invalid SQL statement
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ–ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ORA-24344: Success with Compilation Error
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-3-squence&#34;&gt;4.3 SQUENCE&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡ &lt;code&gt;NEXTVAL&lt;/code&gt; è¿”å›çš„æ˜¯åˆå§‹å€¼ï¼›éšåçš„ &lt;code&gt;NEXTVAL&lt;/code&gt; ä¼šè‡ªåŠ¨å¢åŠ  &lt;code&gt;INCREMENT BY&lt;/code&gt; å¯¹åº”çš„å€¼ï¼Œç„¶åè¿”å›å¢åŠ åçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CURRVAL&lt;/code&gt; æ€»æ˜¯è¿”å›å½“å‰ &lt;code&gt;SEQUENCE&lt;/code&gt; çš„å€¼ï¼Œä½†æ˜¯åœ¨ç¬¬ä¸€æ¬¡ &lt;code&gt;NEXTVAL&lt;/code&gt; åˆå§‹åŒ–ä¹‹åæ‰èƒ½ä½¿ç”¨ &lt;code&gt;CURRVAL&lt;/code&gt; ï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ¬¡ &lt;code&gt;NEXTVAL&lt;/code&gt; ä¼šå¢åŠ ä¸€æ¬¡ &lt;code&gt;SEQUENCE&lt;/code&gt; çš„å€¼ï¼Œæ‰€ä»¥å¦‚æœåœ¨åŒä¸€ä¸ªè¯­å¥é‡Œé¢ä½¿ç”¨å¤šä¸ªNEXTVALï¼Œå…¶å€¼å°±æ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŒ‡å®š &lt;code&gt;CACHE&lt;/code&gt; å€¼ï¼ŒOracle å°±å¯ä»¥é¢„å…ˆåœ¨å†…å­˜é‡Œé¢æ”¾ç½®ä¸€äº› &lt;code&gt;SEQUENCE&lt;/code&gt;ï¼Œè¿™æ ·å­˜å–çš„å¿«äº›ã€‚ &lt;code&gt;CACHE&lt;/code&gt; é‡Œé¢çš„å–å®Œåï¼ŒOracle è‡ªåŠ¨å†å–ä¸€ç»„åˆ° &lt;code&gt;CACHE&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä½†ä½¿ç”¨ &lt;code&gt;CACHE&lt;/code&gt; æˆ–è®¸ä¼šè·³å·ï¼Œæ¯”å¦‚æ•°æ®åº“çªç„¶ä¸æ­£å¸¸å…³é—­ï¼ˆ&lt;code&gt;shutdown abort&lt;/code&gt;)ï¼Œ &lt;code&gt;CACHE&lt;/code&gt; ä¸­çš„ &lt;code&gt;SEQUENCE&lt;/code&gt; å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥å¯ä»¥åœ¨ &lt;code&gt;CREATE SEQUENCE&lt;/code&gt; çš„æ—¶å€™ç”¨ &lt;code&gt;NOCACHE&lt;/code&gt; é˜²æ­¢è¿™ç§æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;4-4-æ€§èƒ½&#34;&gt;4.4 æ€§èƒ½&lt;/h4&gt;

&lt;p&gt;åœ¨æ•°æ®åº“æ“ä½œä¸­ï¼Œè§¦å‘å™¨çš„ä½¿ç”¨è€—è´¹ç³»ç»Ÿèµ„æºç›¸å¯¹è¾ƒå¤§ã€‚å¦‚æœå¯¹äºè¡¨å®¹é‡ç›¸å¯¹è¾ƒå°çš„è¡¨æ ¼æˆ‘ä»¬å¯ä»¥å¿½ç•¥è§¦å‘å™¨å¸¦æ¥çš„æ€§èƒ½å½±å“ã€‚&lt;/p&gt;

&lt;p&gt;è€ƒè™‘åˆ°å¤§è¡¨æ“ä½œçš„æ€§èƒ½é—®é¢˜ï¼Œéœ€è¦å°½å¯èƒ½çš„å‡å°‘è§¦å‘å™¨çš„ä½¿ç”¨ã€‚å¯¹äºä»¥ä¸Šæ“ä½œï¼Œå°±å¯ä»¥æŠ›å¼ƒè§¦å‘å™¨çš„ä½¿ç”¨ï¼Œç›´æ¥æ‰‹åŠ¨è°ƒç”¨åºåˆ—å‡½æ•°å³å¯ï¼Œä½†è¿™æ ·å¯èƒ½åœ¨ç¨‹åºç»´æŠ¤ä¸Šç¨å¾®å¸¦æ¥ä¸€äº›ä¸ä¾¿ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸‰-åœ¨-oracle-12c-ä¸­è®¾ç½®è‡ªå¢å­—æ®µ&#34;&gt;ä¸‰ã€åœ¨ Oracle 12c ä¸­è®¾ç½®è‡ªå¢å­—æ®µ&lt;/h2&gt;

&lt;p&gt;åœ¨ Oracle 12c ä¸­è®¾ç½®è‡ªå¢å­—æ®µå°±ç®€å•å¤šäº†ï¼Œå› ä¸º ORacle 12c æä¾›äº† &lt;code&gt;IDENTITY&lt;/code&gt; å±æ€§ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CREATE TABLE &amp;quot;TEST&amp;quot; (
    ID NUMBER(11) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    NAME VARCHAR2(50BYTE) NOT NULL
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·å°±æå®šäº†ï¼å’Œ MySQL ä¸€æ ·ç®€å•ï¼ğŸ¤£ğŸ¤£ğŸ¤£&lt;/p&gt;

&lt;h2 id=&#34;å››-æ€»ç»“&#34;&gt;å››ã€æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æ‰€ä»¥å¦‚ä¸Šæ‰€å±ï¼Œåœ¨ Oracle ä¸­è®¾ç½®è‡ªå¢å­—æ®µï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ç‰ˆæœ¬ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨ Oracle 11g ä¸­ï¼Œéœ€è¦å…ˆåˆ›å»ºåºåˆ—ï¼ˆSQUENCEï¼‰å†åˆ›å»ºä¸€ä¸ªè§¦å‘å™¨ï¼ˆTRIGGERï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ Oracle 12c ä¸­ï¼Œåªéœ€è¦ä½¿ç”¨ &lt;code&gt;IDENTITY&lt;/code&gt; å±æ€§å°±å¯ä»¥äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;Github Issues &lt;a href=&#34;https://github.com/nodejh/nodejh.github.io/issues/33&#34;&gt;https://github.com/nodejh/nodejh.github.io/issues/33&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using SQL Plus on Oracle</title>
      <link>http://nodejh.com/post/Using-SQL-Plus-on-Oracle/</link>
      <pubDate>Fri, 17 Feb 2017 15:03:43 +0800</pubDate>
      
      <guid>http://nodejh.com/post/Using-SQL-Plus-on-Oracle/</guid>
      <description>

&lt;p&gt;SQL *Plus æ˜¯åŸºäºå‘½ä»¤è¡Œçš„ Oracle ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œ &lt;code&gt;SQL&lt;/code&gt;ã€&lt;code&gt;PL/SQL&lt;/code&gt;ã€ å’Œ &lt;code&gt;SQL*Plus&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ”¯æŒæŸ¥è¯¢ã€æ’å…¥å’Œæ›´æ–°æ•°æ®&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ &lt;code&gt;PL/SQL&lt;/code&gt; ç¨‹åº&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹è¡¨å’Œå¯¹è±¡çš„å®šä¹‰&lt;/li&gt;
&lt;li&gt;å¼€å‘å’Œæ‰§è¡Œæ‰¹å¤„ç†è„šæœ¬&lt;/li&gt;
&lt;li&gt;è¿›è¡Œæ•°æ®åº“ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ç™»å½•-sql-plus&#34;&gt;ç™»å½• SQL *PLUS&lt;/h2&gt;

&lt;p&gt;ç›´æ¥ç™»å½•ï¼Œè¾“å…¥å‘½ä»¤åä¼šæç¤ºè¾“å…¥ç”¨æˆ·åå¯†ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus [username]/[user_password]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ“ä½œç³»ç»Ÿæƒé™è®¤è¯çš„ Oracle SYS ç®¡ç†å‘˜ç™»é™†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus / as sysdba
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸åœ¨ç»ˆç«¯æš´éœ²å¯†ç ç™»å½•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus /nolog
SQL&amp;gt; conn [username]/[user_password]
# æˆ–è€…
SQL &amp;gt; conn / as sysdba
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€€å‡ºç™»å½•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ•°æ®åº“ä¿¡æ¯&#34;&gt;æ•°æ®åº“ä¿¡æ¯&lt;/h2&gt;

&lt;h4 id=&#34;æŸ¥çœ‹æ•°æ®åº“å&#34;&gt;æŸ¥çœ‹æ•°æ®åº“å&lt;/h4&gt;

&lt;p&gt;é€šå¸¸æƒ…å†µäº†æˆ‘ä»¬ç§°çš„ &lt;code&gt;æ•°æ®åº“&lt;/code&gt;ï¼Œå¹¶ä¸ä»…æŒ‡ç‰©ç†çš„æ•°æ®é›†åˆï¼Œè€Œæ˜¯ç‰©ç†æ•°æ®ã€å†…å­˜ã€æ“ä½œç³»ç»Ÿè¿›ç¨‹çš„ç»„åˆä½“ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; select name from v$database; 
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æŸ¥è¯¢å½“å‰æ•°æ®åº“å®ä¾‹å&#34;&gt;æŸ¥è¯¢å½“å‰æ•°æ®åº“å®ä¾‹å&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;å®ä¾‹æ˜¯è®¿é—®Oracleæ•°æ®åº“æ‰€éœ€çš„ä¸€éƒ¨åˆ†è®¡ç®—æœºå†…å­˜å’Œè¾…åŠ©å¤„ç†åå°è¿›ç¨‹ï¼Œæ˜¯ç”±è¿›ç¨‹å’Œè¿™äº›è¿›ç¨‹æ‰€ä½¿ç”¨çš„å†…å­˜(SGA)æ‰€æ„æˆä¸€ä¸ªé›†åˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; select instance_name from v$instance;    
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ•°æ®åº“å®ä¾‹åç”¨äºå¯¹å¤–éƒ¨è¿æ¥ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­è¦å–å¾—ä¸æ•°æ®åº“çš„è”ç³»ï¼Œå¿…é¡»ä½¿ç”¨æ•°æ®åº“å®ä¾‹åã€‚æ¯”å¦‚æˆ‘ä»¬ä½œå¼€å‘ï¼Œè¦è¿æ¥æ•°æ®åº“ï¼Œå°±å¾—è¿æ¥æ•°æ®åº“å®ä¾‹åï¼Œ&lt;code&gt;orcl&lt;/code&gt; å°±ä¸ºæ•°æ®åº“å®ä¾‹åï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;jdbc:oracle:thin:@localhost:1521:orcl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€ä¸ªæ•°æ®åº“å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œåœ¨ä½œæ•°æ®åº“æœåŠ¡é›†ç¾¤çš„æ—¶å€™å¯ä»¥ç”¨åˆ°ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç”¨æˆ·ç®¡ç†&#34;&gt;ç”¨æˆ·ç®¡ç†&lt;/h2&gt;

&lt;p&gt;Oracle ä½¿ç”¨ &lt;code&gt;PROFILE&lt;/code&gt; æ–‡ä»¶å¯¹ç”¨æˆ·è®¿é—®èµ„æºçš„æƒé™è¿›è¡Œæ§åˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;è‹¥ä¸åšç‰¹æ®ŠæŒ‡å®šï¼Œåˆ›å»ºç”¨æˆ·æ—¶ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„ &lt;code&gt;PROFILE&lt;/code&gt; å°±æ˜¯ &lt;code&gt;DEFAULT&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; show user
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥çœ‹æ•°æ®åº“ç”¨æˆ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; select * from dba_users;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;è§£é”ç”¨æˆ·&#34;&gt;è§£é”ç”¨æˆ·&lt;/h4&gt;

&lt;p&gt;é»˜è®¤å½“å¯†ç è¾“é”™ 10 æ¬¡ä¹‹åï¼Œç”¨æˆ·å°±ä¼šè¢«é”å®šï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ORA-28000: the account is locked
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç®¡ç†å‘˜æ¥è§£é”ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus / as sysdba
SQL&amp;gt; alter user [username] account unlock;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ‰è§£é”è‚¯å®šå°±æœ‰é”å®šï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter user [username] account lock;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;å¯†ç é”™è¯¯æ¬¡æ•°&#34;&gt;å¯†ç é”™è¯¯æ¬¡æ•°&lt;/h4&gt;

&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹æœ€å¤§å¯†ç é”™è¯¯æ¬¡æ•°ï¼Œæœ€å¤§é”™è¯¯æ¬¡æ•°å­˜å‚¨åœ¨ &lt;code&gt;dba_profiles&lt;/code&gt; è¡¨ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæ ¹æ® username æŸ¥çœ‹ç”¨æˆ·ä½¿ç”¨çš„ &lt;code&gt;PROFILE&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT PROFILE FROM DBA_USERS WHERE USERNAME=&#39;[username]&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åæ ¹æ® username ä»¥åŠæŸ¥è¯¢åˆ°çš„ &lt;code&gt;PROFILE&lt;/code&gt; æŸ¥çœ‹è¯¥ç”¨æˆ·çš„æœ€å¤§å¯†ç é”™è¯¯æ¬¡æ•° &lt;code&gt;FAILED_LOGIN_ATTEMPTS&lt;/code&gt; ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT * FROM DBA_PROFILES WHERE PROFILE=&#39;DEFAULT&#39; AND RESOURCE_NAME=&#39;FAILED_LOGIN_ATTEMPTS&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°†é”™è¯¯æ¬¡æ•°ä¿®æ”¹ä¸ºæ— é™æ¬¡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER PROFILE DEFAULT LIMIT FAILED_LOGIN_ATTEMPTSUNLIMITED;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;å¯†ç æœ‰æ•ˆæœŸ&#34;&gt;å¯†ç æœ‰æ•ˆæœŸ&lt;/h4&gt;

&lt;p&gt;Oracle 11g é»˜è®¤ç”¨æˆ·æ¯ä¸‰ä¸ªæœˆï¼ˆ180 å¤©ï¼‰å°±è¦ä¿®æ”¹ä¸€æ¬¡å¯†ç ï¼Œå¿«åˆ°å¯†ç è¿‡æœŸæ—¶é—´å°±ä¼šæé†’ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ORA-28002: the password will expire within 7 days
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡ŒåŒæ ·è¦å…ˆæŸ¥æ‰¾åˆ° &lt;code&gt;PROFILE&lt;/code&gt; å†æŸ¥çœ‹ç”¨æˆ·å¯†ç å‰©ä½™è¿‡æœŸæ—¶é—´ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT * FROM DBA_PROFILES WHERE PROFILE=&#39;DEFAULT&#39; AND RESOURCE_NAME=&#39;PASSWORD_LIFE_TIME&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ”¹å¯†ç æœ‰æ•ˆæœŸï¼ˆä¸å—é™ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIMEUNLIMITED;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¾ç½®å¯†ç è¿‡æœŸï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter user [username] password expire;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;ä¿®æ”¹å¯†ç &#34;&gt;ä¿®æ”¹å¯†ç &lt;/h4&gt;

&lt;p&gt;ä¿®æ”¹å½“å‰ç™»å½•ç”¨æˆ·å¯†ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; password
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ”¹æŸä¸ªç”¨æˆ·çš„å¯†ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter user [username] identified by [password];
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;è¡¨ç®¡ç†&#34;&gt;è¡¨ç®¡ç†&lt;/h2&gt;

&lt;p&gt;Oracle çš„è¡¨éƒ½æ˜¯å­˜å‚¨åœ¨è¡¨ç©ºé—´é‡Œé¢çš„ã€‚åˆ›å»ºè¡¨ä¹‹å‰éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ç©ºé—´ã€‚&lt;/p&gt;

&lt;h4 id=&#34;æŸ¥çœ‹ç”¨æˆ·æ‰€æ‹¥æœ‰çš„è¡¨&#34;&gt;æŸ¥çœ‹ç”¨æˆ·æ‰€æ‹¥æœ‰çš„è¡¨&lt;/h4&gt;

&lt;p&gt;æŸ¥çœ‹ç”¨æˆ·æ‰€æ‹¥æœ‰çš„è¡¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT TABLE_NAME FROM USER_TABLES; 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥çœ‹ç”¨æˆ·å¯å­˜å–çš„è¡¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT TABLE_NAME FROM ALL_TABLES; 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT TABLE_NAME FROM DBA_TABLES;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æŸ¥çœ‹è¡¨ç©ºé—´&#34;&gt;æŸ¥çœ‹è¡¨ç©ºé—´&lt;/h4&gt;

&lt;p&gt;æŸ¥çœ‹è¡¨ç©ºé—´è¯¦ç»†æ•°æ®æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT FILE_NAME,TABLESPACE_NAME from DBA_DATA_FILES;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;åˆ›å»ºè¡¨ç©ºé—´&#34;&gt;åˆ›å»ºè¡¨ç©ºé—´&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;create tablespace [è¡¨ç©ºé—´åç§°]
datafile [è¡¨ç©ºé—´æ•°æ®æ–‡ä»¶è·¯å¾„ ]
size [è¡¨ç©ºé—´å¤§å°]
autoextend on;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; create tablespace SoftwareManagement
  2  datafile &#39;/data/oracle/oradata/orcl/SoftwareManagement.dbf&#39;
  3  size 50m
  4  autoextend on;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;åˆ›å»ºæ–°ç”¨æˆ·&#34;&gt;åˆ›å»ºæ–°ç”¨æˆ·&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;CREATE USER [ç”¨æˆ·å]  
IDENTIFIED BY [å¯†ç ]  
DEFAULT TABLESPACE [è¡¨ç©ºé—´] (é»˜è®¤USERS)  
TEMPORARY TABLESPACE [ä¸´æ—¶è¡¨ç©ºé—´] (é»˜è®¤TEMP)  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; create USER software
  2  identified by 123456
  3  default tablespace Softwaremanagement;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;åˆ†é…æƒé™&#34;&gt;åˆ†é…æƒé™&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; GRANT CONNECT TO [username];  
SQL&amp;gt; GRANT RESOURCE TO [username];  
SQL&amp;gt; GRANT DBA TO [username];  -- DBAä¸ºæœ€é«˜çº§æƒé™ï¼Œå¯ä»¥åˆ›å»ºæ•°æ®åº“ã€è¡¨ç­‰ã€‚ 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ°è¿™é‡Œï¼Œæ•°æ®åº“ä¸­çš„è¡¨ç©ºé—´ã€ç”¨æˆ·ä»¥åŠç”¨æˆ·æƒé™éƒ½åˆ›å»ºå¹¶åˆ†é…å¥½äº†ï¼Œæ¥ä¸‹æ¥ç”¨æˆ·å°±å¯ä»¥åœ¨è‡ªå·±çš„è¡¨ç©ºé—´ä¸­åˆ›å»ºè¡¨ï¼Œç„¶åè¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æƒé™ç®¡ç†&#34;&gt;æƒé™ç®¡ç†&lt;/h2&gt;

&lt;p&gt;åœ¨ç»™ç”¨æˆ·åˆ†é…æƒé™çš„æ—¶å€™ï¼Œåˆ†é…äº† &lt;code&gt;CONNECT&lt;/code&gt;ã€&lt;code&gt;RESOURCE&lt;/code&gt; æƒé™ç»™ç”¨æˆ·ã€‚è¿™ä¸¤ä¸ªæƒé™åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;h4 id=&#34;oracleä¸­çš„æƒé™&#34;&gt;oracleä¸­çš„æƒé™&lt;/h4&gt;

&lt;p&gt;Oracle ä¸­çš„æƒé™åˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿæƒé™ï¼šç³»ç»Ÿè§„å®šç”¨æˆ·ä½¿ç”¨æ•°æ®åº“çš„æƒé™ï¼Œç³»ç»Ÿæƒé™æ˜¯å¯¹ç”¨æˆ·è€Œè¨€ã€‚&lt;/li&gt;
&lt;li&gt;å®ä½“æƒé™ï¼šæŸç§æƒé™çš„ç”¨æˆ·å¯¹å…¶ä»–ç”¨æˆ·çš„è¡¨æˆ–è§†å›¾çš„å­˜å–æƒé™ï¼Œæ˜¯é’ˆå¯¹è¡¨æˆ–è€…è§†å›¾è€Œè¨€ã€‚å¦‚ &lt;code&gt;select&lt;/code&gt;ã€&lt;code&gt;update&lt;/code&gt;ã€&lt;code&gt;insert&lt;/code&gt;ã€&lt;code&gt;delete&lt;/code&gt;ã€&lt;code&gt;alter&lt;/code&gt;ã€&lt;code&gt;index&lt;/code&gt;ã€&lt;code&gt;all&lt;/code&gt;ï¼Œå…¶ä¸­ &lt;code&gt;all&lt;/code&gt; åŒ…å«æ‰€æœ‰çš„å®ä½“æƒé™ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;ç³»ç»Ÿæƒé™åˆ†ç±»&#34;&gt;ç³»ç»Ÿæƒé™åˆ†ç±»&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;DBAï¼šæ‹¥æœ‰å…¨éƒ¨ç‰¹æƒï¼Œæ˜¯ç³»ç»Ÿæœ€é«˜æƒé™ï¼Œåªæœ‰DBAæ‰å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;RESOURCEï¼šæ‹¥æœ‰resourceæƒé™çš„ç”¨æˆ·åªå¯ä»¥åˆ›å»ºå®ä½“ï¼Œä¸å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;CONNECTï¼šæ‹¥æœ‰connectæƒé™çš„ç”¨æˆ·åªå¯ä»¥ç™»å½•oracleï¼Œä¸å¯ä»¥åˆ›å»ºå®ä½“ï¼Œä¸å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;å»ºè®®ï¼š
å¯¹äºæ™®é€šç”¨æˆ·ï¼Œæˆäºˆ &lt;code&gt;CONNECT&lt;/code&gt;ã€&lt;code&gt;RESOURCE&lt;/code&gt; æƒé™ï¼›
å¯¹äº &lt;code&gt;DBA&lt;/code&gt; ç®¡ç†ç”¨æˆ·ï¼Œæˆäºˆ &lt;code&gt;CONNECT&lt;/code&gt;ã€&lt;code&gt;RESOURCE&lt;/code&gt;ã€&lt;code&gt;DBA&lt;/code&gt; æƒé™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;å¯¼å…¥å¯¼å‡º&#34;&gt;å¯¼å…¥å¯¼å‡º&lt;/h2&gt;

&lt;p&gt;æ•°æ®åº“çš„å¯¼å…¥å¯¼å‡ºä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å¯¼å‡º&#34;&gt;å¯¼å‡º&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ exp [username]/[password]@[orcl] file=./database.dmp  full=y
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;username&lt;/code&gt; æ˜¯æ•°æ®åº“ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;password&lt;/code&gt; æ˜¯æ•°æ®åº“ç”¨æˆ·å¯†ç &lt;/li&gt;
&lt;li&gt;&lt;code&gt;orcl&lt;/code&gt; æ˜¯æ•°æ®åº“å®ä¾‹åç§°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file&lt;/code&gt; åé¢çš„å‚æ•°æ˜¯å¯¼å‡ºçš„æ•°æ®åº“æ–‡ä»¶å­˜æ”¾ä½ç½®åŠæ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;full&lt;/code&gt; å…¶å€¼ä¸º &lt;code&gt;y&lt;/code&gt; è¡¨ç¤ºå…¨éƒ¨å¯¼å‡ºï¼Œé»˜è®¤ä¸º &lt;code&gt;no&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœåªéœ€å¯¼å‡ºæŸå‡ å¼ è¡¨ï¼Œå¯ä»¥æŒ‡å®š &lt;code&gt;tables&lt;/code&gt; å‚æ•°ï¼š&lt;code&gt;tables=&#39;(tableName, tableName1)&#39;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å¯¼å…¥&#34;&gt;å¯¼å…¥&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ imp [username]/[password]@[orcl] file=./database.dmp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å’Œå¯¼å‡ºæ•°æ®åº“è¯­æ³•ä¸€æ ·ï¼Œåªæ˜¯å…³é”®å­—ä¸ä¸€æ ·ã€‚&lt;/p&gt;

&lt;h4 id=&#34;æ‰§è¡Œ-sql-æ–‡ä»¶&#34;&gt;æ‰§è¡Œ SQL æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;æ‰§è¡Œ SQL æ–‡ä»¶çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ SQL PLUS å‘½ä»¤&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus [username]/password@[orcl] @path/file.name
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ–è€…è¿œç¨‹æ‰§è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sqlplus [username]/password@server_IP/service_name @path/file.name
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœsqlè„šæœ¬æ–‡ä»¶æ¯”è¾ƒå¤æ‚ï¼ŒåŒ…å«äº†begin endè¯­å¥ï¼Œå°±ä¼šä¸æ–­æ˜¾ç¤ºè¡Œå·ï¼Œè§£å†³åŠæ³•å°±æ˜¯åœ¨ sql è„šæœ¬çš„æœ€åç”¨ &lt;code&gt;/&lt;/code&gt; ç¬¦å·ç»“å°¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åœ¨ SQL PLUS ä¸­æ‰§è¡Œ&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt;start file_path
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt;@ file_path
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ &lt;code&gt;file_path&lt;/code&gt; æ˜¯æ–‡ä»¶è·¯å¾„ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;å‚è€ƒ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.cnblogs.com/fnng/archive/2012/08/12/2634485.html&#34;&gt;Oracleè¡¨ç©ºé—´ï¼ˆtablespacesï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://zyjustin9.iteye.com/blog/2193804&#34;&gt;Oracleæ•°æ®åº“ï¼Œå®ä¾‹ï¼Œè¡¨ç©ºé—´ï¼Œç”¨æˆ·ï¼Œè¡¨ä¹‹é—´çš„å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://nvd11.blog.163.com/blog/static/2000183122012111524636835/&#34;&gt;Oracle åœ¨Sqlplus æ‰§è¡Œsqlè„šæœ¬æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>